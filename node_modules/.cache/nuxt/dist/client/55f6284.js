(window.webpackJsonp=window.webpackJsonp||[]).push([[24,9,12],{418:function(e,t,r){var map={"./af":280,"./af.js":280,"./ar":281,"./ar-dz":282,"./ar-dz.js":282,"./ar-kw":283,"./ar-kw.js":283,"./ar-ly":284,"./ar-ly.js":284,"./ar-ma":285,"./ar-ma.js":285,"./ar-sa":286,"./ar-sa.js":286,"./ar-tn":287,"./ar-tn.js":287,"./ar.js":281,"./az":288,"./az.js":288,"./be":289,"./be.js":289,"./bg":290,"./bg.js":290,"./bm":291,"./bm.js":291,"./bn":292,"./bn-bd":293,"./bn-bd.js":293,"./bn.js":292,"./bo":294,"./bo.js":294,"./br":295,"./br.js":295,"./bs":296,"./bs.js":296,"./ca":297,"./ca.js":297,"./cs":298,"./cs.js":298,"./cv":299,"./cv.js":299,"./cy":300,"./cy.js":300,"./da":301,"./da.js":301,"./de":302,"./de-at":303,"./de-at.js":303,"./de-ch":304,"./de-ch.js":304,"./de.js":302,"./dv":305,"./dv.js":305,"./el":306,"./el.js":306,"./en-au":307,"./en-au.js":307,"./en-ca":308,"./en-ca.js":308,"./en-gb":309,"./en-gb.js":309,"./en-ie":310,"./en-ie.js":310,"./en-il":311,"./en-il.js":311,"./en-in":312,"./en-in.js":312,"./en-nz":313,"./en-nz.js":313,"./en-sg":314,"./en-sg.js":314,"./eo":315,"./eo.js":315,"./es":316,"./es-do":317,"./es-do.js":317,"./es-mx":318,"./es-mx.js":318,"./es-us":319,"./es-us.js":319,"./es.js":316,"./et":320,"./et.js":320,"./eu":321,"./eu.js":321,"./fa":322,"./fa.js":322,"./fi":323,"./fi.js":323,"./fil":324,"./fil.js":324,"./fo":325,"./fo.js":325,"./fr":326,"./fr-ca":327,"./fr-ca.js":327,"./fr-ch":328,"./fr-ch.js":328,"./fr.js":326,"./fy":329,"./fy.js":329,"./ga":330,"./ga.js":330,"./gd":331,"./gd.js":331,"./gl":332,"./gl.js":332,"./gom-deva":333,"./gom-deva.js":333,"./gom-latn":334,"./gom-latn.js":334,"./gu":335,"./gu.js":335,"./he":336,"./he.js":336,"./hi":337,"./hi.js":337,"./hr":338,"./hr.js":338,"./hu":339,"./hu.js":339,"./hy-am":340,"./hy-am.js":340,"./id":341,"./id.js":341,"./is":342,"./is.js":342,"./it":343,"./it-ch":344,"./it-ch.js":344,"./it.js":343,"./ja":345,"./ja.js":345,"./jv":346,"./jv.js":346,"./ka":347,"./ka.js":347,"./kk":348,"./kk.js":348,"./km":349,"./km.js":349,"./kn":350,"./kn.js":350,"./ko":351,"./ko.js":351,"./ku":352,"./ku.js":352,"./ky":353,"./ky.js":353,"./lb":354,"./lb.js":354,"./lo":355,"./lo.js":355,"./lt":356,"./lt.js":356,"./lv":357,"./lv.js":357,"./me":358,"./me.js":358,"./mi":359,"./mi.js":359,"./mk":360,"./mk.js":360,"./ml":361,"./ml.js":361,"./mn":362,"./mn.js":362,"./mr":363,"./mr.js":363,"./ms":364,"./ms-my":365,"./ms-my.js":365,"./ms.js":364,"./mt":366,"./mt.js":366,"./my":367,"./my.js":367,"./nb":368,"./nb.js":368,"./ne":369,"./ne.js":369,"./nl":370,"./nl-be":371,"./nl-be.js":371,"./nl.js":370,"./nn":372,"./nn.js":372,"./oc-lnc":373,"./oc-lnc.js":373,"./pa-in":374,"./pa-in.js":374,"./pl":375,"./pl.js":375,"./pt":376,"./pt-br":377,"./pt-br.js":377,"./pt.js":376,"./ro":378,"./ro.js":378,"./ru":379,"./ru.js":379,"./sd":380,"./sd.js":380,"./se":381,"./se.js":381,"./si":382,"./si.js":382,"./sk":383,"./sk.js":383,"./sl":384,"./sl.js":384,"./sq":385,"./sq.js":385,"./sr":386,"./sr-cyrl":387,"./sr-cyrl.js":387,"./sr.js":386,"./ss":388,"./ss.js":388,"./sv":389,"./sv.js":389,"./sw":390,"./sw.js":390,"./ta":391,"./ta.js":391,"./te":392,"./te.js":392,"./tet":393,"./tet.js":393,"./tg":394,"./tg.js":394,"./th":395,"./th.js":395,"./tk":396,"./tk.js":396,"./tl-ph":397,"./tl-ph.js":397,"./tlh":398,"./tlh.js":398,"./tr":399,"./tr.js":399,"./tzl":400,"./tzl.js":400,"./tzm":401,"./tzm-latn":402,"./tzm-latn.js":402,"./tzm.js":401,"./ug-cn":403,"./ug-cn.js":403,"./uk":404,"./uk.js":404,"./ur":405,"./ur.js":405,"./uz":406,"./uz-latn":407,"./uz-latn.js":407,"./uz.js":406,"./vi":408,"./vi.js":408,"./x-pseudo":409,"./x-pseudo.js":409,"./yo":410,"./yo.js":410,"./zh-cn":411,"./zh-cn.js":411,"./zh-hk":412,"./zh-hk.js":412,"./zh-mo":413,"./zh-mo.js":413,"./zh-tw":414,"./zh-tw.js":414};function n(e){var t=l(e);return r(t)}function l(e){if(!r.o(map,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return map[e]}n.keys=function(){return Object.keys(map)},n.resolve=l,e.exports=n,n.id=418},419:function(e,t,r){"use strict";r.r(t);r(26),r(19),r(21),r(38),r(20),r(39);var n=r(11),l=(r(66),r(47),r(133),r(9),r(64),r(32)),o=r(65),c=r.n(o);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var f={name:"edit-upload",layout:"edit",middleware:"auth",computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(l.b)(["isAuthenticated","loggedInUser"])),created:function(){},mounted:function(){this.getPreview(this.value_file)},data:function(){return{url_server:this.$store.state.url_server,titre_file:this.upload_titre_file,label_file:this.upload_label_file,accept_file:this.upload_accept_file,value_file:this.upload_value_file,cible_class:this.upload_cible,cible:"."+this.upload_cible+" ",uploadPercentage:0,file:"",preview:"",flexIsFile:""}},props:{upload_titre_file:String,upload_label_file:String,upload_accept_file:String,upload_value_file:String,upload_cible:String},emits:["update:specimen_file"],methods:{handleFileUpload:function(e){this.hideErreur();var element=e.currentTarget;this.fileId=element.id,this.file=element.files[0],""!=this.file&&this.submitFile()},submitFile:function(){var e=this;this.uploadPercentage=0;var t=new FormData;t.append("file",this.file),document.querySelector(this.cible+".progress").classList.remove("hidden"),document.querySelector(this.cible+".uploadZone").classList.add("hidden"),document.getElementById("file").disabled=!0,c.a.post(this.url_server+"/uploadFile",t,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:function(e){var t=parseInt(Math.round(100*e.loaded/e.total));document.querySelector(this.cible+".progress-title").innerHTML=t+"%",this.uploadPercentage=t}.bind(this)}).then((function(t){var r=t.data.isOptimize;document.querySelector("#file").value="",e.value_file=t.data.optimizeFile[0],e.$emit("input",t.data.optimizeFile[0]),r?(document.querySelector(e.cible+".progress-title").innerHTML="media optimization...",e.uploadPercentage=0,setTimeout(function(){var e=this;c.a.get(this.url_server+"/optimizeFile?fichier="+this.value_file).then((function(t){document.querySelector(e.cible+".progress-title").innerHTML="media optimization...",e.getPreview()})).catch((function(e){return displayErreur("erreur lors de l'optimisation")}))}.bind(e),2e3)):e.getPreview()})).catch((function(t){t.response.data.message,displayErreur(t.response.data.message),document.querySelector(e.cible+".progress").classList.add("hidden"),document.querySelector(e.cible+".uploadZone").classList.remove("hidden"),document.getElementById("file").disabled=!1}))},getPreview:function(){document.querySelector(this.cible+".progress-title").innerHTML="",document.querySelector(this.cible+".progress").classList.add("hidden"),document.querySelector(this.cible+".uploadZone").classList.remove("hidden"),document.getElementById("file").disabled=!1;var e="",t=this.value_file;if(""!=this.value_file){switch(console.log("file : "+this.value_file),t.toLowerCase().split(".").pop()){case"mp4":e='<video width="100%" height="auto" controls><source src="/upload/'+t+'" type="video/mp4"></video>';break;case"mp3":e='<audio controls><source src="/upload/'+t+'" type="audio/mpeg"></audio>';break;case"jpg":case"jpeg":case"gif":case"png":e='<img class="w-20" src="/upload/'+t+'" />';break;default:e='<a class="flex" target="blank" href="/upload/'+t+'"><svg xmlns="http://www.w3.org/2000/svg" class="pr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" /></svg> preview file</a>',this.flexIsFile="flex "}this.preview=e}},hideErreur:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){hideErreur()}))}},m=f,v=r(10),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{class:e.cible_class},[r("div",{staticClass:"justify-between align-center",class:e.flexIsFile},[r("label",[e._v(e._s(e.titre_file))]),e._v(" "),r("div",{staticClass:"previewUpload pb-1 flex items-center justify-center"},[r("div",{staticClass:"flex items-center justify-center text-sm w-1/2",domProps:{innerHTML:e._s(e.preview)}})])]),e._v(" "),r("label",{staticClass:"uploadZone bt-upload",on:{click:function(t){return e.hideErreur()}}},[r("span",{staticClass:"leading-normal"},[e._v(e._s(e.label_file))]),e._v(" "),r("input",{ref:"file",staticClass:"hidden",attrs:{type:"file",id:"file",accept:e.accept_file},on:{change:function(t){return e.handleFileUpload(t)}}})]),e._v(" "),r("div",{staticClass:"progress hidden"},[r("div",{staticClass:"progress-title"},[e._v(e._s(e.uploadPercentage)+"%")]),e._v(" "),r("div",{staticClass:"progress-bar",style:{width:e.uploadPercentage+"%"}})])])}),[],!1,null,null,null);t.default=component.exports},426:function(e,t,r){"use strict";r.r(t);var n={name:"sub-nav-setting",data:function(){return{}},props:{}},l=r(10),component=Object(l.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"menuTab"},[r("ul",[r("li",{staticClass:"menuTab-main"},[r("ul",[r("li",{staticClass:"mr-6"},[r("NuxtLink",{staticClass:"nav-link",attrs:{exact:"",to:{path:"/edit/settings/"}}},[e._v("Settings")])],1)])])])])}),[],!1,null,null,null);t.default=component.exports},451:function(e,t,r){"use strict";r.r(t);r(26),r(19),r(21),r(38),r(20),r(39);var n=r(11),l=(r(9),r(64),r(32)),o=r(65),c=r.n(o);r(279);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}var f={layout:"edit",middleware:"auth",components:{SubNavSetting:r(426).default},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({},Object(l.b)(["isAuthenticated","loggedInUser"])),created:function(){},mounted:function(){this.getSetting()},data:function(){return{url_server:this.$store.state.url_server,id_font_app:this.$auth.user.id,user_app:this.$auth.user.username,url_list:"/edit/settings",source:"setting",id_setting:1,titre:"",address:"",email:"",instagram:"",spotify:"",visuel:"",about:"",displayComposant:!1,isLoadForm:!1,upload_titre_file:"Visuel réseaux sociaux",upload_label_file:"Choisir un visuel",upload_accept_file:"image/*",upload_cible:"mediaCible1"}},methods:{getSetting:function(){var e=this;c.a.get(this.url_server+"/getSetting?id_setting="+this.id_setting).then((function(t){e.setting=t.data.liste,e.titre=e.setting.titre,e.address=e.setting.address,e.email=e.setting.email,e.instagram=e.setting.instagram,e.spotify=e.setting.spotify,e.visuel=e.setting.visuel,e.about=e.setting.about,e.displayComposant=!0,e.isLoadForm=!0})).catch((function(t){t.response||console.log("retour erreur"),e.id_font=0,displayErreur("erreur de chargement settings")}))},submit:function(){var e=this;clearRequired(),this.hideErreur();var data={id_setting:this.id_setting,titre:this.titre,address:this.address,email:this.email,instagram:this.instagram,spotify:this.spotify,visuel:this.visuel,about:this.about},t=!1,r=document.querySelectorAll(".required_field");[].forEach.call(r,(function(e){""==e.value&&(e.classList.contains("fromSeo")&&(t=!0),e.classList.add("required"))})),checkRequired()?(t&&(this.$refs.editSeoEl.isShowSeo=!0),displayErreur("Les champs en rouge sont requis")):(disabledActions(),c.a.post(this.url_server+"/addSetting",data).then((function(t){e.id_setting=t.data.id_setting,e.$refs.editSeoEl.saveSeo()})).catch((function(e){enabledActions(),displayErreur("Erreur lors de l'update setting")})))},confirmSubmit:function(){document.location="/edit/settings"},updateSeo:function(){this.$refs.editSeoEl.updateInputSeo(this.titre)},hideErreur:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){hideErreur()})),cancelForm:function(e){this.$router.push(e)},initForm:function(e){e.target.classList.contains("required")&&e.target.classList.remove("required"),enabledActions(),hideErreur()},showHelp:function(e){displayErreur(e)},hideHelp:function(){hideErreur()}}},m=f,v=r(10),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"container  edit-form-nav"},[r("div",{staticClass:"list-container edit-container edit-form edit-form-nav",class:{"opacity-20":!e.isLoadForm}},[r("div",{staticClass:"form-container"},[r("form",{attrs:{method:"post",autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submit.apply(null,arguments)}}},[r("div",{staticClass:"form-bloc"},[r("div",{staticClass:"col w-full"},[r("div",{staticClass:"col-content"},[r("label",{attrs:{for:"titre",id:"Ltitre"}},[e._v("Title")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.titre,expression:"titre"}],staticClass:"required_field",attrs:{type:"text",name:"titre",id:"titre",value:""},domProps:{value:e.titre},on:{focus:e.initForm,change:e.updateSeo,input:function(t){t.target.composing||(e.titre=t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-bloc"},[r("div",{staticClass:"col w-full"},[r("div",{staticClass:"col-content"},[r("label",{attrs:{for:"address",id:"Laddress"}},[e._v("Address")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{name:"address",id:"address"},domProps:{value:e.address},on:{focus:e.initForm,input:function(t){t.target.composing||(e.address=t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-bloc"},[r("div",{staticClass:"col w-full"},[r("div",{staticClass:"col-content col-50"},[r("label",{attrs:{for:"email",id:"Lemail"}},[e._v("Email")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"required_field",attrs:{type:"text",name:"email",id:"email",value:""},domProps:{value:e.email},on:{focus:e.initForm,input:function(t){t.target.composing||(e.email=t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-bloc"},[r("div",{staticClass:"col w-full"},[r("div",{staticClass:"col-content col-50"},[r("label",{attrs:{for:"instagram",id:"Linstagram"}},[e._v("Instagram")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.instagram,expression:"instagram"}],attrs:{type:"text",name:"instagram",id:"instagram",value:""},domProps:{value:e.instagram},on:{focus:e.initForm,input:function(t){t.target.composing||(e.instagram=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"col-content col-50"},[r("label",{attrs:{for:"spotify",id:"Lspotify"}},[e._v("Spotify")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.spotify,expression:"spotify"}],attrs:{type:"text",name:"spotify",id:"spotify",value:""},domProps:{value:e.spotify},on:{focus:e.initForm,input:function(t){t.target.composing||(e.spotify=t.target.value)}}})])])]),e._v(" "),r("div",{staticClass:"form-bloc"},[r("div",{staticClass:"col w-full"},[r("div",{staticClass:"col-content"},[r("div",[e.displayComposant?[r("upload",{attrs:{upload_value_file:e.visuel,upload_accept_file:e.upload_accept_file,upload_label_file:e.upload_label_file,upload_titre_file:e.upload_titre_file,upload_cible:e.upload_cible},on:{"update:upload_value_file":function(t){e.visuel=t},"update:upload_accept_file":function(t){e.upload_accept_file=t},"update:upload_label_file":function(t){e.upload_label_file=t},"update:upload_titre_file":function(t){e.upload_titre_file=t},"update:upload_cible":function(t){e.upload_cible=t}},model:{value:e.visuel,callback:function(t){e.visuel=t},expression:"visuel"}})]:e._e()],2)])])]),e._v(" "),r("div",{staticClass:"form-bloc"},[r("div",{staticClass:"col w-full"},[r("div",{staticClass:"col-content"},[r("label",{attrs:{for:"about",id:"Labout"}},[e._v("Infos")]),e._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.about,expression:"about"}],attrs:{name:"about",id:"about"},domProps:{value:e.about},on:{focus:e.initForm,input:function(t){t.target.composing||(e.about=t.target.value)}}})])])]),e._v(" "),e.displayComposant?[r("editSeo",{ref:"editSeoEl",attrs:{seo_id_parent:e.id_setting,seo_source:e.source},on:{onChange:e.confirmSubmit,"update:seo_id_parent":function(t){e.id_setting=t},"update:seo_source":function(t){e.source=t}}})]:e._e(),e._v(" "),r("div",{staticClass:"form-action"},[r("div",[r("button",{attrs:{type:"button"},on:{click:function(t){return e.cancelForm(e.url_list)}}},[e._v("Annuler")])]),e._v(" "),e._m(0)])],2)])])])}),[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("button",{attrs:{type:"submit"}},[e._v("Enregistrer")])])}],!1,null,null,null);t.default=component.exports;installComponents(component,{Upload:r(419).default})}}]);