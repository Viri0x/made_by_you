{"version":3,"file":"pages/edit/interviews/form.js","sources":["webpack:///./components/upload.vue?a03a","webpack:///./components/upload.vue","webpack:///./components/upload.vue?2a5d","webpack:///./components/upload.vue?5689","webpack:///./pages/edit/interviews/form.vue?4eb2","webpack:///./pages/edit/interviews/form.vue?b49f","webpack:///./pages/edit/interviews/form.vue?f6b0","webpack:///./pages/edit/interviews/form.vue?d7d5","webpack:///./pages/edit/interviews/form.vue","webpack:///./pages/edit/interviews/form.vue?0e39","webpack:///./pages/edit/interviews/form.vue?8b87"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.cible_class},[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"justify-between align-center\",_vm.flexIsFile))+\"><label>\"+_vm._ssrEscape(_vm._s(_vm.titre_file))+\"</label> <div class=\\\"previewUpload pb-1 flex items-center justify-center\\\"><div class=\\\"flex items-center justify-center text-sm w-1/2\\\">\"+(_vm._s(_vm.preview))+\"</div></div></div> <label class=\\\"uploadZone bt-upload\\\"><span class=\\\"leading-normal\\\">\"+_vm._ssrEscape(_vm._s(_vm.label_file))+\"</span> <input type=\\\"file\\\" id=\\\"file\\\"\"+(_vm._ssrAttr(\"accept\",_vm.accept_file))+\" class=\\\"hidden\\\"></label> <div class=\\\"progress hidden\\\"><div class=\\\"progress-title\\\">\"+_vm._ssrEscape(_vm._s(_vm.uploadPercentage)+\"%\")+\"</div> <div class=\\\"progress-bar\\\"\"+(_vm._ssrStyle(null,{ width: _vm.uploadPercentage + '%' }, null))+\"></div></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex';\nimport axios from 'axios';\n\nexport default {\n  name: 'edit-upload',\n  layout: 'edit',\n  middleware: 'auth',\n  computed: {\n    ...mapGetters(['isAuthenticated', 'loggedInUser']),\n  },\n  created() {\n  }\n  ,\n  mounted() {\n  \tthis.getPreview(this.value_file)\n  },\n  data() {\n    return {\n\t  url_server:this.$store.state.url_server,\n\t  titre_file:this.upload_titre_file,\n\t  label_file:this.upload_label_file,\n\t  accept_file:this.upload_accept_file,\n\t  value_file:this.upload_value_file,\n\t  cible_class:this.upload_cible,\n\t  cible:'.' + this.upload_cible + ' ',\n\t  uploadPercentage: 0,\n\t  file:'',\n\t  preview:'',\n\t  flexIsFile:'',\n    }\n  },\n  props: {\n   upload_titre_file: String,\n   upload_label_file: String,\n   upload_accept_file: String,\n   upload_value_file: String,\n   upload_cible: String,\n  },\n  emits: ['update:specimen_file']\n  ,\n  methods: {\n\thandleFileUpload(e){\n\t\tthis.hideErreur();\n\t\t\n\t\tvar element = e.currentTarget;\n\t\tthis.fileId = element.id;\n\n\t\tthis.file = element.files[0];\n\t\tif (this.file != '') {\n\t\t\tthis.submitFile();\n\t\t}\n\t}\n    ,\n    submitFile(){\n\t  //this.uploadErreur = '';\n\t  this.uploadPercentage = 0;\n\t  let formData = new FormData();\n\t  formData.append('file', this.file);\n\t  document.querySelector(this.cible + \".progress\").classList.remove('hidden');\n\t  document.querySelector(this.cible + \".uploadZone\").classList.add('hidden');\n\t  document.getElementById(\"file\").disabled = true;\n\t  axios.post(this.url_server + '/uploadFile',\n\t    formData,\n\t    {\n\t      headers: {\n\t          'Content-Type': 'multipart/form-data'\n\t      },\n\t      onUploadProgress: function( progressEvent ) {\n\t\t      var val = parseInt( Math.round((progressEvent.loaded*100) / progressEvent.total ));\n\t\t      document.querySelector(this.cible + \".progress-title\").innerHTML = val + '%';\n\t\t\t  this.uploadPercentage = val;\n\t      }.bind(this)\n\t    }\n\t  )\n\t  .then(response => {\n\t\t  \n\t\t  var isOptimize = response.data.isOptimize;\n\t\t  \n\t\t  document.querySelector('#file').value='';\n\t\t  this.value_file = response.data.optimizeFile[0];\n\t\t  this.$emit(\"input\", response.data.optimizeFile[0]);\n\t\t  \n\t\t  if (isOptimize) {\n\t\t\t  document.querySelector(this.cible + \".progress-title\").innerHTML = 'media optimization...';\n\t\t\t  //document.querySelector(this.cible + \".progress-stop\").classList.add('hidden')\n\t\t\t  this.uploadPercentage = 0;\n\t\t\t  \n\t\t\t  setTimeout(function () { \n\t\t\t\t  axios.get(this.url_server + \"/optimizeFile?fichier=\" + this.value_file)\n\t\t\t       .then(response => {\n\t\t\t\t       document.querySelector(this.cible + \".progress-title\").innerHTML = 'media optimization...';\n\t\t\t\t       this.getPreview()\n\t\t\t\t   })\n\t\t\t       .catch(error => displayErreur(\"erreur lors de l'optimisation\"))\n\t\t\t\t  \n\t\t\t  }.bind(this), 2000)\n\t\t\t  \n\t\t  }\n\t\t  else this.getPreview();\n\n\t\t  \n\t\t  \n\t\t  \n      })\n      .catch(err => {\n\t      if (typeof err.response.data.message === 'undefined') displayErreur(err.response.data.message)\n\t      else displayErreur(err.response.data.message)\n\t\t  document.querySelector(this.cible + \".progress\").classList.add('hidden');\n\t\t  document.querySelector(this.cible + \".uploadZone\").classList.remove('hidden');\n\t\t  document.getElementById(\"file\").disabled = false;\n      })\n\t}\n\t,\n\tgetPreview: function()\n    {\n\t    document.querySelector(this.cible + \".progress-title\").innerHTML = '';\n\t    //document.querySelector(this.cible + \".progress-stop\").classList.remove('hidden')\n\t\t\t  \n\t    document.querySelector(this.cible + \".progress\").classList.add('hidden');\n\t\tdocument.querySelector(this.cible + \".uploadZone\").classList.remove('hidden');\n\t\tdocument.getElementById(\"file\").disabled = false;\n\t\t  \n\t    var preview = '';\n\t    var file = this.value_file;\n\t    if (this.value_file != '') {\n\t\t    console.log(\"file : \" + this.value_file)\n\t\t    var ext = file.toLowerCase().split(\".\").pop();\n\t\t    \n\t\t    switch(ext) {\n\t\t\t    case \"mp4\" : preview = '<video width=\"100%\" height=\"auto\" controls><source src=\"/upload/' + file + '\" type=\"video/mp4\"></video>';\n\t\t\t    \t\t\t break;\n\t\t\t    case \"mp3\" : preview = '<audio controls><source src=\"/upload/' + file + '\" type=\"audio/mpeg\"></audio>';\n\t\t\t    \t\t\t break;\n\t\t\t    case \"jpg\" :\n\t\t\t    case \"jpeg\" :\n\t\t\t    case \"gif\" :\n\t\t\t    case \"png\" : preview = '<img class=\"w-20\" src=\"/upload/' + file + '\" />';\n\t\t\t    \t\t\t break;\n\t\t\t    default: preview = '<a class=\"flex\" target=\"blank\" href=\"/upload/' + file + '\"><svg xmlns=\"http://www.w3.org/2000/svg\" class=\"pr-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" /><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z\" /></svg> preview file</a>';\n\t\t\t    \t\t this.flexIsFile = 'flex ';\n\t\t    }\n\t\t    \n\t\t    this.preview = preview;\n\t    }\n\t    \n    }\n\t,\n\thideErreur: function()\n    {\n\t    hideErreur();\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./upload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./upload.vue?vue&type=template&id=5f3b5fe4&\"\nimport script from \"./upload.vue?vue&type=script&lang=js&\"\nexport * from \"./upload.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"25724183\"\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/@nuxt/postcss8/node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@nuxt/postcss8/node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=style&index=0&lang=css&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"0ec3879c\", content, true, context)\n};","export * from \"-!../../../node_modules/vue-style-loader/index.js??ref--3-oneOf-1-0!../../../node_modules/@nuxt/postcss8/node_modules/css-loader/dist/cjs.js??ref--3-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/@nuxt/postcss8/node_modules/postcss-loader/dist/cjs.js??ref--3-oneOf-1-2!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=style&index=0&lang=css&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/@nuxt/postcss8/node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(function(i){return i[1]});\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".color-block{width:100%!important}\", \"\"]);\n// Exports\n___CSS_LOADER_EXPORT___.locals = {};\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container edit-form-nav\"},[_vm._ssrNode(\"<div\"+(_vm._ssrClass(\"list-container edit-container edit-form\",{'opacity-20': !_vm.isLoadForm}))+\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"form-container\\\">\",\"</div>\",[_vm._ssrNode(\"<form method=\\\"post\\\" autocomplete=\\\"off\\\">\",\"</form>\",[_vm._ssrNode(\"<fieldset>\",\"</fieldset>\",[_vm._ssrNode(\"<legend>Date</legend> \"),_vm._ssrNode(\"<div class=\\\"form-bloc\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col w-full\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-content col-50\\\">\",\"</div>\",[_c('no-ssr',[_c('v-date-picker',{attrs:{\"mode\":\"date\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar inputValue = ref.inputValue;\nvar inputEvents = ref.inputEvents;\nreturn [_c('div',{staticClass:\"col-content\"},[_c('label',{attrs:{\"for\":\"date_interview\",\"id\":\"Ldate_interview\"}},[_vm._v(\"Date de l'interview\")]),_vm._v(\" \"),_c('input',_vm._g({staticClass:\"required_field\",attrs:{\"type\":\"text\"},domProps:{\"value\":inputValue}},inputEvents))])]}}]),model:{value:(_vm.date_interview),callback:function ($$v) {_vm.date_interview=$$v},expression:\"date_interview\"}})],1)],1),_vm._ssrNode(\" <div class=\\\"col-content col-50\\\"><label for=\\\"tito\\\" id=\\\"Ltito\\\">Lieu de l'interview</label> <input type=\\\"text\\\" name=\\\"lieu_interview\\\" id=\\\"lieu_interview\\\" value></div>\")],2)])],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"form-bloc\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col w-full\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-content\\\">\",\"</div>\",[_vm._ssrNode(\"<label for=\\\"id_intervenant\\\" id=\\\"Lid_intervenant\\\">Invité</label> \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.id_intervenant),expression:\"id_intervenant\"}],attrs:{\"name\":\"id_intervenant\",\"id\":\"id_intervenant\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.id_intervenant=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},[_c('option',{attrs:{\"value\":\"0\"}}),_vm._v(\" \"),_vm._l((_vm.intervenants),function(intervenant,indexIntervenant){return _c('option',{domProps:{\"value\":intervenant.id_intervenant}},[_vm._v(_vm._s(intervenant.prenom)+\" \"+_vm._s(intervenant.nom))])})],2)],2)])]),_vm._ssrNode(\" <div class=\\\"form-bloc\\\"><div class=\\\"col w-full\\\"><div class=\\\"col-content\\\"><label for=\\\"titre\\\" id=\\\"Ltitre\\\">Titre</label> <input type=\\\"text\\\" name=\\\"titre\\\" id=\\\"titre\\\" value class=\\\"required_field\\\"></div></div></div> <div class=\\\"form-bloc\\\"><div class=\\\"col w-full\\\"><div class=\\\"col-content\\\"><label for=\\\"sous_titre\\\" id=\\\"Lsous_titre\\\">Sous-titre</label> <input type=\\\"text\\\" name=\\\"sous_titre\\\" id=\\\"sous_titre\\\" value></div></div></div> \"),_vm._ssrNode(\"<div class=\\\"form-bloc\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col w-full\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-content \\\">\",\"</div>\",[_vm._ssrNode(\"<label for=\\\"description\\\" id=\\\"Ldescription\\\">Description</label> \"),_vm._ssrNode(\"<div>\",\"</div>\",[_c('quill-editor',{ref:\"editor\",attrs:{\"options\":_vm.editorOption},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1)],2)])]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<fieldset class=\\\"mt-9\\\">\",\"</fieldset>\",[_vm._ssrNode(\"<legend>Audio</legend> \"),_vm._ssrNode(\"<div class=\\\"form-bloc\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col w-full\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"mediaCible1\\\">\",\"</div>\",[(_vm.displayComposant)?[_c('upload',{attrs:{\"upload_value_file\":_vm.fichier,\"upload_accept_file\":_vm.upload_son_accept_file,\"upload_label_file\":_vm.upload_son_label_file,\"upload_titre_file\":_vm.upload_son_titre_file,\"upload_cible\":_vm.upload_son_cible},on:{\"update:upload_value_file\":function($event){_vm.fichier=$event},\"update:upload_accept_file\":function($event){_vm.upload_son_accept_file=$event},\"update:upload_label_file\":function($event){_vm.upload_son_label_file=$event},\"update:upload_titre_file\":function($event){_vm.upload_son_titre_file=$event},\"update:upload_cible\":function($event){_vm.upload_son_cible=$event}},model:{value:(_vm.fichier),callback:function ($$v) {_vm.fichier=$$v},expression:\"fichier\"}})]:_vm._e()],2)])])]),_vm._ssrNode(\" \"),(_vm.displayComposant)?[_c('editTranche',{ref:\"editTrancheEl\",attrs:{\"tranche_id_parent\":_vm.id_interview,\"tranche_source\":_vm.source},on:{\"update:tranche_id_parent\":function($event){_vm.id_interview=$event},\"update:tranche_source\":function($event){_vm.source=$event}}})]:_vm._e()],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<fieldset class=\\\"mt-9\\\">\",\"</fieldset>\",[_vm._ssrNode(\"<legend>Avis professionnel</legend> \"),(_vm.displayComposant)?[_c('editAvis',{ref:\"editAvisEl\",attrs:{\"avis_id_parent\":_vm.id_interview,\"avis_source\":_vm.source},on:{\"update:avis_id_parent\":function($event){_vm.id_interview=$event},\"update:avis_source\":function($event){_vm.source=$event}}})]:_vm._e()],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<fieldset class=\\\"mt-9\\\">\",\"</fieldset>\",[_vm._ssrNode(\"<legend>Style</legend> \"),_vm._ssrNode(\"<div class=\\\"form-bloc\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col w-full\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-content\\\">\",\"</div>\",[_vm._ssrNode(\"<label for=\\\"sous-titre\\\" id=\\\"Ltitre\\\">Couleur</label> \"),_c('color-picker',{model:{value:(_vm.couleur),callback:function ($$v) {_vm.couleur=$$v},expression:\"couleur\"}})],2)])]),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"form-bloc\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col w-full\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"col-content\\\">\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"mediaCible2\\\">\",\"</div>\",[(_vm.displayComposant)?[_c('upload',{attrs:{\"upload_value_file\":_vm.visuel,\"upload_accept_file\":_vm.upload_visuel_accept_file,\"upload_label_file\":_vm.upload_visuel_label_file,\"upload_titre_file\":_vm.upload_visuel_titre_file,\"upload_cible\":_vm.upload_visuel_cible},on:{\"update:upload_value_file\":function($event){_vm.visuel=$event},\"update:upload_accept_file\":function($event){_vm.upload_visuel_accept_file=$event},\"update:upload_label_file\":function($event){_vm.upload_visuel_label_file=$event},\"update:upload_titre_file\":function($event){_vm.upload_visuel_titre_file=$event},\"update:upload_cible\":function($event){_vm.upload_visuel_cible=$event}},model:{value:(_vm.visuel),callback:function ($$v) {_vm.visuel=$$v},expression:\"visuel\"}})]:_vm._e()],2)])])])],2),_vm._ssrNode(\" \"),(_vm.displayComposant)?[_c('editSeo',{ref:\"editSeoEl\",attrs:{\"seo_id_parent\":_vm.id_interview,\"seo_source\":_vm.source},on:{\"onChange\":_vm.confirmSubmit,\"update:seo_id_parent\":function($event){_vm.id_interview=$event},\"update:seo_source\":function($event){_vm.source=$event}}})]:_vm._e(),_vm._ssrNode(\" <div class=\\\"form-action\\\"><div><button type=\\\"button\\\">Annuler</button></div> <div><button type=\\\"submit\\\">Enregistrer</button></div></div>\")],2)])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex';\nimport axios from 'axios';\nimport moment from 'moment';\n\n\nconst cancelTokenSource = axios.CancelToken.source();\n\nexport default {\n  layout: 'edit',\n  middleware: 'auth',\n  computed: {\n    ...mapGetters(['isAuthenticated', 'loggedInUser']),\n  },\n  created() {\n\t this.url_list = '/edit/interviews/';\n\t \n\t if (typeof this.$route.query.id_interview === 'undefined') {\n\t\t this.id_interview = 0;\n\t }\n\t else  this.id_interview = parseInt(this.$route.query.id_interview);\n\t \t \t \n  }\n  ,\n  mounted() {\n\t  if (this.id_interview == '0') this.id_interview = this.getNextId(this.source)\n\t  else {\n\t\t  this.getInterview();\n\t  }\n\t  \n\t  this.getIntervenants();\n\n  },\n  data() {\n    return {\n\t  url_server:this.$store.state.url_server,\n\t  id_font_app: this.$auth.user.id,\n\t  user_app: this.$auth.user.username,\n\t  initModeForm:'include',\n\t  source:'interview',\n\t  isNew:false,\n\t  url_list: '',\n\t  isLoadForm:false,\n\t  id_interview: 0,\n\t  id_intervenant:'',\n      titre:'',\n      sous_titre:'',\n      description:'',\n      date_interview: new Date(),\n      lieu_interview:'',\n      fichier: '',\n      visuel: '',\n      couleur: '#000',\n      tito:'',\n\t  interview:[],\n\t  intervenants:[],\n\t  displayComposant : false,\n\t  displayEditSeo : false,\n\t  isDisplayMedia:false,\n\t  editorOption: {\n          // Some Quill options...\n          theme: 'snow',\n          modules: {\n            toolbar: [\n              ['bold', 'italic', 'underline', 'strike'],\n              ['blockquote', 'code-block'],\n              ['link','code'],\n              [\"source\"]\n            ]\n          }\n        },\n\t  upload_son_titre_file:\"Fichier de l'interview\",\n\t  upload_son_label_file:'choisir le fichier mp3',\n\t  upload_son_accept_file : '.mp3',\n\t  upload_son_cible:'mediaCible1',\n\t  upload_visuel_titre_file:\"Objet\",\n\t  upload_visuel_label_file:'choisir le visuel',\n\t  upload_visuel_accept_file : '.jpg,.jpeg,.png,.gif',\n\t  upload_visuel_cible:'mediaCible2',\n    }\n  }\n  ,\n  methods: {\n\tgetInterview: function()\n\t {\n       axios.get(this.url_server + \"/getInterview?id_interview=\" + this.id_interview)\n       .then(response => {\n\t       this.interview = response.data.liste;\n\t\t   if (typeof this.interview.titre !== 'undefined') {\n\t\t       this.id_intervenant = this.interview.id_intervenant;\n\t\t       this.titre = this.interview.titre;\n\t\t       this.sous_titre = this.interview.sous_titre;\n\t\t       this.description = this.interview.description;\n\t\t       this.date_interview = moment(this.interview.date_interview).format('YYYY-MM-DD');\n\t\t       this.lieu_interview = this.interview.lieu_interview;\n\t\t       this.fichier = this.interview.fichier;\n\t\t       this.visuel = this.interview.visuel;\n\t\t       if (this.interview.couleur != '') this.couleur = this.interview.couleur;\n\t\t       else this.couleur = '#000';\n\t\t    }\n\t\t    \n\t\t    this.isLoadForm = true;\n\t       this.displayComposant = true;\n\t   })\n       .catch(error => {\n\t       this.id_interview = 0;\n\t\t   displayErreur(\"'error loading interview\")\n      })\n    }\n    ,\n     getIntervenants: function()\n\t {\n       axios.get(this.url_server + \"/getIntervenants?recherche=&triBy=nom&triMode=ASC\")\n       .then(response => {\n\t       this.intervenants = response.data.liste;\n\t   })\n\t   .catch(error => {\n\t\t   displayErreur('intervenant loading error')\n      })\n    }\n    ,\n    submit() {\n\t   clearRequired();\n\t   this.hideErreur();\n\t   \n\t   this.date_interview = moment(this.date_interview).format('YYYY-MM-DD');\n\t   if (this.id_intervenant == '') this.id_intervenant = 0;\n\t   let data = { \n\t\tid_interview: this.id_interview,\n\t\tid_intervenant: this.id_intervenant,\n\t\ttitre: this.titre,\n\t\tsous_titre: this.sous_titre,\n\t\tdescription: this.description,\n\t\tdate_interview: this.date_interview,\n\t\tlieu_interview: this.lieu_interview,\n\t\tfichier: this.fichier,\n\t\tvisuel: this.visuel,\n\t\tcouleur: this.couleur,\n        isNew: this.isNew,\n      };\n\n\t  var isFromSeo = false;\n      var elems = document.querySelectorAll(\".required_field\");\n\t  [].forEach.call(elems, function(el) {\n\t\t    if ((el.value == '')) {\n\t\t\t   if (el.classList.contains(\"fromSeo\")) isFromSeo = true;\n\t\t\t   el.classList.add(\"required\");\n\t\t\t   console.log(\"ICIC : \" +  el.getAttribute(\"id\"))\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(checkRequired()) {\n\t\t\tif (isFromSeo) this.$refs.editSeoEl.isShowSeo = true;\n\t\t\tconsole.log(\"isFromSeo : \" + isFromSeo)\n\t\t\tdisplayErreur(\"Les champs en rouge sont requis\");\n\t\t}\n\t\telse {\n\t\t\tdisabledActions();\n\t\t\t  axios.post(this.url_server + \"/addInterview\", data)\n\t\t\t   .then(response => {\n\t\t\t\t   this.id_interview = response.data.id_interview;\n\t\t\t\t   this.$refs.editSeoEl.saveSeo();\n\t\t\t   })\n\t\t\t   .catch(error => {\n\t\t\t\t  enabledActions();\n\t\t\t\t  displayErreur(\"Error adding interview : \" + error)\n\t\t\t   })\n\t\t\t\n\t\t}\n       \n    },\n    getNextId(table) {\n\t    axios.get(this.url_server + \"/getNextId?table=\" + table)\n\t       .then(response => {\n\t\t       this.id_interview = response.data.id;\n\t\t       this.isNew = true;\n\t\t       this.getInterview();\n\t\t    })\n\t\t   .catch(error => {\n\t\t\t   displayErreur('Error getting nextId')\n\t      })\n    }\n    ,\n    confirmSubmit() {\n\t    this.$router.push('/edit/interviews/');\n\t}\n    ,\n\tupdateSeo(){\n\t  var titre = '';\n\t  if (Array.isArray(this.titre)) titre = this.titre[0];\n\t  else titre = this.titre;\n\n\t  this.$refs.editSeoEl.updateInputSeo(titre);\n\t  \n\t}\n\t,\n    hideErreur: function()\n    {\n\t    hideErreur();\n    }\n    ,\n    cancelForm: function(url)\n    {\n\t    this.$router.push(url);\n    }\n    ,\n    initForm: function(event)\n    {\n\t   if (event.target.classList.contains(\"required\")) event.target.classList.remove(\"required\");\n\t   enabledActions();\n\t   hideErreur();\n    }\n    \n  }\n}\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./form.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./form.vue?vue&type=template&id=40822004&\"\nimport script from \"./form.vue?vue&type=script&lang=js&\"\nexport * from \"./form.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./form.vue?vue&type=style&index=0&lang=css&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"85bc7b24\"\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {Upload: require('/Users/christophesalaun/Documents/www/diplome_2022/nude/components/upload.vue').default})\n"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAaA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AARA;AAaA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AAMA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AAXA;AACA;AAaA;AACA;AAEA;AAEA;AAEA;AACA;AA9GA;AArCA;;AC1BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAGA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAHA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5CA;AA8CA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAjIA;AA1EA;;AC1KA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}