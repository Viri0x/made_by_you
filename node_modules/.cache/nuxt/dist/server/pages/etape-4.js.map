{"version":3,"file":"pages/etape-4.js","sources":["webpack:///./assets/img/like.svg","webpack:///./pages/etape-4.vue?1b45","webpack:///./pages/etape-4.vue","webpack:///./pages/etape-4.vue?5ff3","webpack:///./pages/etape-4.vue?c868"],"sourcesContent":["module.exports = __webpack_public_path__ + \"img/like.1eba92a.svg\";","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._ssrNode(\"<div class=\\\"grid\\\" data-v-d402daf4><div class=\\\"elements\\\" data-v-d402daf4></div></div> \"),_vm._ssrNode(\"<div class=\\\"content\\\" data-v-d402daf4>\",\"</div>\",[_vm._ssrNode(\"<header data-v-d402daf4>\",\"</header>\",[_vm._ssrNode(\"<div class=\\\"logo\\\" data-v-d402daf4>\",\"</div>\",[_c('nuxt-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"MADE BY YOU\")])],1),_vm._ssrNode(\" <div class=\\\"like\\\" data-v-d402daf4><img\"+(_vm._ssrAttr(\"src\",require(\"assets/img/like.svg\")))+\" alt=\\\"Made by you\\\" class=\\\"img-logo\\\" data-v-d402daf4></div>\")],2),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div class=\\\"content-made\\\" data-v-d402daf4>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"content-made-left\\\" data-v-d402daf4>\",\"</div>\",[_vm._ssrNode(\"<div class=\\\"preview-content\\\" data-v-d402daf4><div class=\\\"preview-corner-top\\\" data-v-d402daf4></div> <div class=\\\"preview\\\" data-v-d402daf4><div class=\\\"preview-element\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.isLoad) ? '' : 'none' }))+\" data-v-d402daf4>\"+(_vm._s(_vm.imgPreview))+\"</div> <div class=\\\"anim\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.isAnim) ? '' : 'none' }))+\" data-v-d402daf4></div></div> <div class=\\\"preview-corner-bottom\\\" data-v-d402daf4></div></div> \"),_vm._ssrNode(\"<div class=\\\"preview-nav\\\" data-v-d402daf4>\",\"</div>\",[_vm._ssrNode(\"<div data-v-d402daf4>\",\"</div>\",[_c('nuxt-link',{attrs:{\"to\":\"/etape-1\"}},[_vm._v(\"1\")])],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div data-v-d402daf4>\",\"</div>\",[_c('nuxt-link',{attrs:{\"to\":\"/etape-1\"}},[_vm._v(\"2\")])],1),_vm._ssrNode(\" \"),_vm._ssrNode(\"<div data-v-d402daf4>\",\"</div>\",[_c('nuxt-link',{attrs:{\"to\":\"/etape-1\"}},[_vm._v(\"3\")])],1),_vm._ssrNode(\" <div class=\\\"active\\\" data-v-d402daf4>4</div>\")],2)],2),_vm._ssrNode(\" <div class=\\\"content-made-right etape4\\\" data-v-d402daf4><div class=\\\"infos\\\" data-v-d402daf4><div data-v-d402daf4>Pour cette dernière étape de personnalisation, vous pouvez ajouter un motif ainsi que vos initiales (3 lettres max) : </div></div> <div class=\\\"choix cursor-pointer start\\\" data-v-d402daf4><div class=\\\"zone_1\\\" data-v-d402daf4><div data-v-d402daf4><div data-v-d402daf4><div class=\\\"figure\\\" data-v-d402daf4><img src=\\\"/upload/motif/1.png\\\" alt=\\\"Made by you\\\" data-v-d402daf4></div><div data-v-d402daf4>M.B.Y</div></div> <div data-v-d402daf4><div class=\\\"figure\\\" data-v-d402daf4><img src=\\\"/upload/motif/2.png\\\" alt=\\\"Made by you\\\" data-v-d402daf4></div><div data-v-d402daf4>Petits<br data-v-d402daf4>pois</div></div> <div data-v-d402daf4><div class=\\\"figure\\\" data-v-d402daf4><img src=\\\"/upload/motif/3.png\\\" alt=\\\"Made by you\\\" data-v-d402daf4></div><div data-v-d402daf4>Portée</div></div> <div data-v-d402daf4><div class=\\\"figure\\\" data-v-d402daf4><img src=\\\"/upload/motif/4.png\\\" alt=\\\"Made by you\\\" data-v-d402daf4></div><div data-v-d402daf4>Spaghe-<br data-v-d402daf4>ttis</div></div> <div data-v-d402daf4><div class=\\\"figure\\\" data-v-d402daf4><img src=\\\"/upload/motif/5.png\\\" alt=\\\"Made by you\\\" data-v-d402daf4></div><div data-v-d402daf4>V</div></div></div></div> <div class=\\\"zone_2\\\" data-v-d402daf4><div data-v-d402daf4><div class=\\\"font_1 selected\\\" data-v-d402daf4>Typo 1</div> <div class=\\\"font_2\\\" data-v-d402daf4>Typo 2</div> <div class=\\\"font_3\\\" data-v-d402daf4>Typo 3</div> <div class=\\\"font_4\\\" data-v-d402daf4>Typo 4</div></div></div> <div class=\\\"zone_3\\\" data-v-d402daf4><div data-v-d402daf4><div data-v-d402daf4><input placeholder=\\\"vos initiales\\\" name=\\\"initiale\\\" id=\\\"initiale\\\" value data-v-d402daf4></div></div></div></div> <div class=\\\"preview-nav valid\\\" data-v-d402daf4><div class=\\\"type-bt\\\" data-v-d402daf4>Valider</div> <div class=\\\"zone_carre carre_tf\\\" data-v-d402daf4></div> <div class=\\\"zone_carre carre_tr\\\" data-v-d402daf4></div> <div class=\\\"zone_carre carre_bl\\\" data-v-d402daf4></div> <div class=\\\"zone_carre carre_br\\\" data-v-d402daf4></div> <div class=\\\"zone_carre carre_l1\\\" data-v-d402daf4></div> <div class=\\\"zone_carre carre_l2\\\" data-v-d402daf4></div> <div class=\\\"zone_carre carre_r1\\\" data-v-d402daf4></div> <div class=\\\"zone_carre carre_r2\\\" data-v-d402daf4></div></div></div>\")],2)],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex';\nvar oneTime = false;\nexport default {\n\tmiddleware: 'auth',\n   computed: {\n    ...mapGetters(['isAuthenticated', 'loggedInfont']),\n  }\n  ,\n\tlayout: 'default',\n\tdata() {\n    return {\n\t    g_width: 0,\n\t\tg_height: 0,\n\t    isEn:true,\n\t    isSoon:false,\n\t    isAnim:false,\n\t    isLoad:false,\n\t    imgPreview:'/upload/svg/t-shirt.svg',\n\t    id_etape_1:0,\n\t    id_etape_2:0,\n\t    id_etape_3:0,\n\t    parametres:'',\n\t    base_tshirt:new Array('forme_vetement','manche1','manche2','couture3'),\n\t    base_debardeur:new Array('forme_vetement','couture1','couture2','couture3'),\n\t    base_chemise:new Array('forme_vetement','manche1','manche2','col_chemise','couture1','couture2','couture3','boutons_ronds'),\n\t    base_polo:new Array('forme_vetement','col_polo','manche1','manche2','couture1','couture2','boutons'),\n\t    id_font:1,\n\t    dragOffsetX: null,\n      dragOffsetY: null\n    }\n  },\n  mounted() {\n\tthis.parametres = JSON.parse(localStorage.getItem('parametres') || \"[]\") ;\n\tthis.loadEtape();\n\tthis.getDimensions();\n\twindow.addEventListener('resize', this.getDimensions);\n\t\n\tthis.updateFont(1);\n  }\n  ,\n  unmounted() {\n    window.removeEventListener('resize', this.getDimensions);\n  }\n  ,\n   methods: {\n\tgetDimensions() {\n      this.g_width = document.querySelector('.grid').clientWidth;\n      this.g_height = document.querySelector('.grid').clientHeight;\n      \n      this.displayGrid();\n    }\n    ,\n\tdisplayGrid: function() {\n\t\tvar col = '';\n\t\tvar grid_elements = document.querySelector('.grid .elements')\n\t\tvar coef = this.vwTOpx(1.5);\n\t\tconsole.log(\"val : \" + this.g_width / coef)\n\t\tfor (var i=0;i<(this.g_width / coef);i++) {\n\t\t\tfor (var j=0;j<(this.g_width / coef);j++) {\n\t\t\t\tcol += '<div></div>';\n\t\t\t}\n\t\t}\n\t\t\n\t\tgrid_elements.innerHTML = col;\n       \n    },\n    vwTOpx(value) {\n\t  var w = window;\n\t  var d = document;\n\t  var e = d.documentElement;\n\t  var g = d.getElementsByTagName('body')[0];\n\t  var x = w.innerHeight || e.clientHeight || g.clientHeight;\n\t \n\t  var result = (x*value)/100;\n\t  return(result);\n\t}\n\t,\n\tetape1: function(id,file)\n\t{\n\t\tthis.imgPreview = '/upload/svg/' + file\n\t\tthis.parametres.etape_1 = this.imgPreview;\n\t\tlocalStorage.setItem('parametres', JSON.stringify(this.parametres));\n\t}\n\t,\n\tloadEtape: function() {\n\t\tvar para = this.parametres;\n\t\tif (para.id_etape_1 == 0) para.id_etape_1 = 1;\n\t\tthis.id_etape_1 = para.id_etape_1\n\t\tvar file = this.getFormByid(this.id_etape_1)\n\t\tthis.loadSvg(file)\n\t\tthis.isLoad = true;\n\t}\n\t,\n\tvalidEtape: function() {\n\t\tthis.parametres.id_etape_4 = document.querySelector('.preview-element').innerHTML;\n\t\tlocalStorage.setItem('parametres', JSON.stringify(this.parametres));\n\t\tdocument.location = '/end';\n\t}\n\t,\n\tloadSvg: function(file) {\n\t\tvar loc = this.parametres.id_etape_3;\n\t\t//loc= loc.replace('<svg','<svg onload=\"makeDraggable(evt)\" ')\n\t\t\n\t\tdocument.querySelector('.preview-element').innerHTML = loc;\n\t\t\n\t\tsetTimeout(function() {\n\t\t\t\n\t\t\tdocument.querySelector('.preview-element svg').addEventListener('click', (event) => {\n\t\t\t\tif (!oneTime) {\n\t\t\t\t\tmakeDraggable(event)\n\t\t\t\t\toneTime = true;\n\t\t\t\t}\n\t\t});\n\t\t}, 100);\n\t\t\n\t\t\n\t}\n\t,\n\tgetFormByid: function(id) {\n\t\tvar form = '';\n\t\tswitch(id) {\n\t\t\tcase 1 : form = 'tshirt';\n\t\t\t\t\t break;\n\t\t\tcase 2 : form = 'debardeur';\n\t\t\t\t\t break;\n\t\t\tcase 3 : form = 'chemise';\n\t\t\t\t\t break;\n\t\t\tcase 4 : form = 'polo';\n\t\t\t\t\t break;\n\t\t}\n\t\t\n\t\treturn form;\n\t}\n\t,\n\tinitPara() {\n\t  \tvar para = new Object();\n\t    para.id_etape_1 = 1;\n\t    para.id_etape_2 = 0;\n\t    para.id_etape_3 = 0;\t    \n\t    para.id_etape_4 = 0;\n\t    \n\t    \n\t    this.parametres = para;\n\t    localStorage.setItem('parametres', JSON.stringify(this.parametres));\n\t}\n\t,\n\tdisplayActiveValidT: function() {\n\t\tlet paths = document.querySelectorAll('.zone_carre')\n\t\tfor(let i=0; i<paths.length; i++){\n\t\t\tpaths[i].classList.add('active')\n\t\t}\n\t}\n\t,\n\thideActiveValidT: function() {\n\t\tlet paths = document.querySelectorAll('.zone_carre')\n\t\tfor(let i=0; i<paths.length; i++){\n\t\t\tpaths[i].classList.remove('active')\n\t\t}\n\t}\n\t,\n\tasync logout() {\n      await this.$auth.logout();\n      this.$router.push('/login')\n    }\n    ,\n    updateFont(id) {\n\t    this.id_font = id;\n\t    \n\t    document.querySelector('.font_1').classList.remove('selected');\n\t    document.querySelector('.font_2').classList.remove('selected');\n\t    document.querySelector('.font_3').classList.remove('selected');\n\t    document.querySelector('.font_4').classList.remove('selected');\n\t    \n\t    document.querySelector('.font_' + id).classList.add('selected');\n\t    \n\t    this.goInitiale();\n\t}\n     ,\n    goInitiale() {\n\t    if (this.id_font == 1) document.querySelector('.preview-element #texte').style.fontFamily='LoRes 9 OT Narrow';\n\t    if (this.id_font == 2) document.querySelector('.preview-element #texte').style.fontFamily='IBMPlexSans-Regular';\n\t    if (this.id_font == 3) document.querySelector('.preview-element #texte').style.fontFamily='Anek Latin';\n\t    if (this.id_font == 4) document.querySelector('.preview-element #texte').style.fontFamily='Rigatoni';\n\t    document.querySelector('.preview-element #texte').textContent = document.querySelector('#initiale').value;\n\t}\n    ,\n    motif(index) {\n\t    /*motif4_sansmanche_colV\n\t    motif4_sansmanche_colclaudine\n\t    motif4_sansmanche_colmontant\n\t    motif4_sansmanche\n\t    motif4_colV\n\t    motif4_colclaudine\n\t    motif4_colmontant\n\t    motif4*/\n\t    \n\t    \n\t    \n\t     document.querySelector('.preview-element #motif').style.display = \"block\";\n\t     //document.querySelector('.preview-element #motif1-' + index).style.fill = \"transparent\";\n\t     //document.querySelector('.preview-element #motif1_colV').style.display = \"block\";\n\t     //document.querySelector('.preview-element #motif1_colV').style.fill = \"transparent\";\n\t     \n\t     \n\t    //motif1-2\n\t    \n\t    /*if (document.querySelector('.preview-element #colV').style.display == \"block\") {\n\t\t    document.querySelector('.preview-element #motif' + index + '_colV').style.display = \"block\";\n\t\t    document.querySelector('.preview-element #motif' + index + '_colclaudine').style.display = \"none\";\n\t\t    document.querySelector('.preview-element #motif' + index + '_colmontant').style.display = \"none\";\n\t\t}\n\t\t\n\t\tif (document.querySelector('.preview-element #colclaudine').style.display == \"block\") {\n\t\t\tconsole.log('.preview-element #motif' + index + '_colclaudine')\n\t\t    document.querySelector('.preview-element #motif' + index + '_colclaudine').style.display = \"block\";\n\t\t    document.querySelector('.preview-element #motif' + index + '_colV').style.display = \"none\";\n\t\t    document.querySelector('.preview-element #motif' + index + '_colmontant').style.display = \"none\";\n\t\t}\n\n\t\tif (document.querySelector('.preview-element #colmontant').style.display == \"block\") {\n\t\t\tconsole.log(\"lalal\")\n\t\t    document.querySelector('.preview-element #motif' + index + '_colmontant').style.display = \"block\";\n\t\t    document.querySelector('.preview-element #motif' + index + '_colclaudine').style.display = \"none\";\n\t\t    document.querySelector('.preview-element #motif' + index + '_colV').style.display = \"none\";\n\t\t}*/\n    }\n  }\n}\n\n\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./etape-4.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./etape-4.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./etape-4.vue?vue&type=template&id=d402daf4&scoped=true&\"\nimport script from \"./etape-4.vue?vue&type=script&lang=js&\"\nexport * from \"./etape-4.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"d402daf4\",\n  \"64f764aa\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;;;;;;;;;;;;ACAA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAoBA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAEA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AARA;AACA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAtLA;AA1CA;;ACvFA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}