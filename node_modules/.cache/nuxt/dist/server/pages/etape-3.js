exports.ids = [13];
exports.modules = {

/***/ 40:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__.p + "img/like.1eba92a.svg";

/***/ }),

/***/ 44:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/etape-3.vue?vue&type=template&id=1e1f8fde&scoped=true&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"container"},[_vm._ssrNode("<div class=\"grid\" data-v-1e1f8fde><div class=\"elements\" data-v-1e1f8fde></div></div> "),_vm._ssrNode("<div class=\"content\" data-v-1e1f8fde>","</div>",[_vm._ssrNode("<header data-v-1e1f8fde>","</header>",[_vm._ssrNode("<div class=\"logo\" data-v-1e1f8fde>","</div>",[_c('nuxt-link',{attrs:{"to":"/"}},[_vm._v("MADE BY YOU")])],1),_vm._ssrNode(" <div class=\"like\" data-v-1e1f8fde><img"+(_vm._ssrAttr("src",__webpack_require__(40)))+" alt=\"Made by you\" class=\"img-logo\" data-v-1e1f8fde></div>")],2),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"content-made\" data-v-1e1f8fde>","</div>",[_vm._ssrNode("<div class=\"content-made-left\" data-v-1e1f8fde>","</div>",[_vm._ssrNode("<div class=\"preview-content\" data-v-1e1f8fde><div class=\"preview-corner-top\" data-v-1e1f8fde></div> <div class=\"preview\" data-v-1e1f8fde><div class=\"preview-element\""+(_vm._ssrStyle(null,null, { display: (_vm.isLoad) ? '' : 'none' }))+" data-v-1e1f8fde>"+(_vm._s(_vm.imgPreview))+"</div> <div class=\"anim isHidden\" data-v-1e1f8fde><video id=\"myVideo\" autoplay=\"autoplay\" muted=\"muted\" data-v-1e1f8fde><source src=\"/upload/anim/BETTERAVE.webm\" type=\"video/webm\" data-v-1e1f8fde></video></div></div> <div class=\"preview-corner-bottom\" data-v-1e1f8fde></div></div> "),_vm._ssrNode("<div class=\"preview-nav\" data-v-1e1f8fde>","</div>",[_vm._ssrNode("<div data-v-1e1f8fde>","</div>",[_c('nuxt-link',{attrs:{"to":"etape-1"}},[_vm._v("1")])],1),_vm._ssrNode(" "),_vm._ssrNode("<div data-v-1e1f8fde>","</div>",[_c('nuxt-link',{attrs:{"to":"etape-1"}},[_vm._v("2")])],1),_vm._ssrNode(" <div class=\"active\" data-v-1e1f8fde>3</div> <div data-v-1e1f8fde>4</div>")],2)],2),_vm._ssrNode(" "),_vm._ssrNode("<div class=\"content-made-right etape3\" data-v-1e1f8fde>","</div>",[_vm._ssrNode("<div class=\"infos\" data-v-1e1f8fde><div data-v-1e1f8fde>…puis sélectionnez la couleur que vous souhaitez lui attribuer :</div></div> <div class=\"choix cursor-pointer\" data-v-1e1f8fde><div data-v-1e1f8fde><div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/1.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/2.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/3.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/4.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/5.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div></div> <div data-v-1e1f8fde><div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/6.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/7.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/8.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/9.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/10.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div></div> <div data-v-1e1f8fde><div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/11.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/12.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/13.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/14.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/15.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div></div> <div data-v-1e1f8fde><div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/16.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/17.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/18.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/19.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div> <div class=\"tito\" data-v-1e1f8fde><img src=\"/upload/color/bords.svg\" alt=\"Made by you\" data-v-1e1f8fde> <div class=\"figure\" data-v-1e1f8fde><img src=\"/upload/color/20.svg\" alt=\"Made by you\" data-v-1e1f8fde></div></div></div></div> "),_vm._ssrNode("<div class=\"preview-nav valid\" data-v-1e1f8fde>","</div>",[_vm._ssrNode("<div class=\"type-bt\" data-v-1e1f8fde>","</div>",[_c('nuxt-link',{attrs:{"to":"/etape-4"}},[_vm._v("Valider")])],1),_vm._ssrNode(" <div class=\"zone_carre carre_tf\" data-v-1e1f8fde></div> <div class=\"zone_carre carre_tr\" data-v-1e1f8fde></div> <div class=\"zone_carre carre_bl\" data-v-1e1f8fde></div> <div class=\"zone_carre carre_br\" data-v-1e1f8fde></div> <div class=\"zone_carre carre_l1\" data-v-1e1f8fde></div> <div class=\"zone_carre carre_l2\" data-v-1e1f8fde></div> <div class=\"zone_carre carre_r1\" data-v-1e1f8fde></div> <div class=\"zone_carre carre_r2\" data-v-1e1f8fde></div>")],2)],2)],2)],2)],2)}
var staticRenderFns = []


// CONCATENATED MODULE: ./pages/etape-3.vue?vue&type=template&id=1e1f8fde&scoped=true&

// EXTERNAL MODULE: external "vuex"
var external_vuex_ = __webpack_require__(3);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./pages/etape-3.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//

/* harmony default export */ var etape_3vue_type_script_lang_js_ = ({
  middleware: 'auth',
  computed: { ...Object(external_vuex_["mapGetters"])(['isAuthenticated', 'loggedInfont'])
  },
  layout: 'default',

  data() {
    return {
      g_width: 0,
      g_height: 0,
      isEn: true,
      isSoon: false,
      isAnim: false,
      isLoad: false,
      imgPreview: '/upload/svg/t-shirt.svg',
      id_etape_1: 0,
      id_etape_2: 0,
      parametres: '',
      base_tshirt: new Array('forme_vetement', 'manche1', 'manche2', 'couture3'),
      base_debardeur: new Array('forme_vetement', 'couture1', 'couture2', 'couture3'),
      base_chemise: new Array('forme_vetement', 'manche1', 'manche2', 'col_chemise', 'couture1', 'couture2', 'couture3', 'boutons_ronds'),
      base_polo: new Array('forme_vetement', 'col_polo', 'manche1', 'manche2', 'couture1', 'couture2', 'boutons'),
      isSelected: false
    };
  },

  mounted() {
    this.parametres = JSON.parse(localStorage.getItem('parametres') || "[]");
    this.loadEtape();
    this.getDimensions(); //window.addEventListener('resize', this.getDimensions);
  },

  unmounted() {//window.removeEventListener('resize', this.getDimensions);
  },

  methods: {
    getDimensions() {
      this.g_width = document.querySelector('.grid').clientWidth;
      this.g_height = document.querySelector('.grid').clientHeight;
      this.displayGrid();
    },

    displayGrid: function () {
      var col = '';
      var grid_elements = document.querySelector('.grid .elements');
      var coef = this.vwTOpx(1.5);
      console.log("val : " + this.g_width / coef);

      for (var i = 0; i < this.g_width / coef; i++) {
        for (var j = 0; j < this.g_width / coef; j++) {
          col += '<div></div>';
        }
      }

      grid_elements.innerHTML = col;
    },

    vwTOpx(value) {
      var w = window;
      var d = document;
      var e = d.documentElement;
      var g = d.getElementsByTagName('body')[0];
      var x = w.innerHeight || e.clientHeight || g.clientHeight;
      var result = x * value / 100;
      return result;
    },

    etape: function (video, couleur, event) {
      var isSelected = false;
      let paths = document.getElementsByTagName('path');

      for (let i = 0; i < paths.length; i++) {
        if (paths[i].classList.contains('selectPath')) isSelected = true;
      }

      if (isSelected) {
        this.playVideo(video);
        this.initCouleur();
        document.querySelector('.selectPath').style.fill = couleur;
        event.target.parentNode.style.backgroundColor = couleur;
      } else {
        document.querySelector('.infos > div').innerHTML = '<strong>Pour attribuer une couleur<br />sélectionner un élément</strong>';
        setTimeout(function () {
          document.querySelector('.infos > div').innerHTML = '…puis sélectionnez la couleur que vous souhaitez lui attribuer :';
        }.bind(this), 2000);
      }

      this.parametres.id_etape_3 = document.querySelector('.preview-element').innerHTML;
      localStorage.setItem('parametres', JSON.stringify(this.parametres));
    },

    playVideo(index) {
      var vid = document.getElementById("myVideo");

      var _this = this;

      console.log("this1 : " + _this);

      vid.onended = function (_this, event) {
        console.log("this2 : " + _this);
        _this.isAnim = false;
        document.querySelector('.anim').classList.add('isHidden');
      };

      if (this.isAnim) {
        this.isAnim = false;
        document.querySelector('.anim').classList.add('isHidden');
        vid.pause();
        vid.currentTime = 0;
      }

      vid.src = '/upload/anim/' + index + '.webm';
      document.querySelector('.anim').classList.remove('isHidden');
      this.isAnim = true;
      vid.play();
    },

    initCouleur: function () {
      let paths = document.getElementsByClassName('figure');

      for (let i = 0; i < paths.length; i++) {
        paths[i].style.backgroundColor = 'transparent';
      }
    },
    loadEtape: function () {
      var para = this.parametres;
      if (para.id_etape_1 == 0) para.id_etape_1 = 1;
      this.id_etape_1 = para.id_etape_1;
      var file = this.getFormByid(this.id_etape_1);
      this.loadSvg(file);
      this.isLoad = true;
    },
    validEtape: function () {},
    loadSvg: function (file) {
      document.querySelector('.preview-element').innerHTML = this.parametres.id_etape_2;
      /*document.querySelector('.preview-element').classList.add('loading');
      
      this.imgPreview = document.querySelector('#Model-' + file).innerHTML;
      var initPara = new Array();
      var svg_el =  document.querySelector('.preview-element #forme_vetement');
      
      switch(file) {
      	case 'tshirt' : initPara = this.base_tshirt;
      			 break;
      	case 'debardeur' : initPara = this.base_debardeur;
      			 break;
      	case 'chemise' : initPara = this.base_chemise;
      			 break;
      	case 'polo' : initPara = this.base_polo;
      			 break;
      }*/

      setTimeout(function () {
        let paths = document.getElementsByTagName('path'); //now we can loop over the array and add an eventlistener to each path in the array
        // it listens to the 'click' event and then runs function toggleClass()

        for (let i = 0; i < paths.length; i++) {
          paths[i].style.fill = "#fff";
          paths[i].classList.add('activePath');
          paths[i].addEventListener('click', selectPath);
        } // In the function toggleClass we can toggle the 'clicked' class.


        function selectPath() {
          initSelectPath();
          this.classList.toggle('selectPath');
          console.log("cclic path");
        }

        function initSelectPath() {
          for (let i = 0; i < paths.length; i++) {
            paths[i].classList.remove('selectPath');
          }
        }
      }, 1000);
    },
    getFormByid: function (id) {
      var form = '';

      switch (id) {
        case 1:
          form = 'tshirt';
          break;

        case 2:
          form = 'debardeur';
          break;

        case 3:
          form = 'chemise';
          break;

        case 4:
          form = 'polo';
          break;
      }

      return form;
    },

    initPara() {
      var para = new Object();
      para.id_etape_1 = 1;
      para.id_etape_2 = 0;
      para.id_etape_3 = 0;
      para.id_etape_4 = 0;
      this.parametres = para;
      localStorage.setItem('parametres', JSON.stringify(this.parametres));
    },

    displayActiveValidT: function () {
      let paths = document.querySelectorAll('.zone_carre');

      for (let i = 0; i < paths.length; i++) {
        paths[i].classList.add('active');
      }
    },
    hideActiveValidT: function () {
      let paths = document.querySelectorAll('.zone_carre');

      for (let i = 0; i < paths.length; i++) {
        paths[i].classList.remove('active');
      }
    },

    async logout() {
      await this.$auth.logout();
      this.$router.push('/login');
    }

  }
});
// CONCATENATED MODULE: ./pages/etape-3.vue?vue&type=script&lang=js&
 /* harmony default export */ var pages_etape_3vue_type_script_lang_js_ = (etape_3vue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./pages/etape-3.vue



function injectStyles (context) {
  
  
}

/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  pages_etape_3vue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  injectStyles,
  "1e1f8fde",
  "64e94d29"
  
)

/* harmony default export */ var etape_3 = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=etape-3.js.map