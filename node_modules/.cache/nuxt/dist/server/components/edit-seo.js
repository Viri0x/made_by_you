exports.ids = [5];
exports.modules = {

/***/ 60:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// CONCATENATED MODULE: ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/editSeo.vue?vue&type=template&id=6a842e54&
var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:"form-bloc form-bloc-list mt-6 border-b border-mainColor",class:{'active': _vm.isShowSeo}},[_vm._ssrNode("<div class=\"col w-full\"><div class=\"col-content mb-1\"><label for=\"showSeo\" id=\"LshowSeo\" class=\"add\"><div>SEO</div><div class=\"flex-1 flex justify-end add highlight\"><svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\""+(_vm._ssrClass("big",{'rotate-90': _vm.isShowSeo}))+"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\"></path></svg></div></label> <div><div class=\"form-bloc-list-content\""+(_vm._ssrStyle(null,null, { display: (_vm.isShowSeo) ? '' : 'none' }))+"><div class=\"form-bloc\"><div class=\"col w-full\"><div class=\"col-content\"><label for=\"seo_title\" id=\"Lseo_title\">Page title</label> <input type=\"text\" name=\"seo_title\" id=\"seo_title\" value class=\"required_field fromSeo\"></div></div></div> <div class=\"form-bloc\"><div class=\"col w-full\"><div class=\"col-content\"><label for=\"seo_description\" id=\"Lseo_description\">Meta description</label> <textarea name=\"seo_description\" id=\"seo_description\" class=\"fromSeo\">"+_vm._ssrEscape(_vm._s(_vm.seo_description))+"</textarea></div></div></div> <div class=\"form-bloc\"><div class=\"col w-full\"><div class=\"col-content\"><label for=\"seo_url\" id=\"Lseo-url\">Url</label> <input type=\"text\" name=\"seo_url\" id=\"seo_url\" value class=\"required_field fromSeo\"></div></div></div></div></div></div></div>")])}
var staticRenderFns = []


// CONCATENATED MODULE: ./components/editSeo.vue?vue&type=template&id=6a842e54&

// EXTERNAL MODULE: external "vuex"
var external_vuex_ = __webpack_require__(3);

// EXTERNAL MODULE: external "axios"
var external_axios_ = __webpack_require__(4);
var external_axios_default = /*#__PURE__*/__webpack_require__.n(external_axios_);

// CONCATENATED MODULE: ./node_modules/babel-loader/lib??ref--2-0!./node_modules/@nuxt/components/dist/loader.js??ref--0-0!./node_modules/vue-loader/lib??vue-loader-options!./components/editSeo.vue?vue&type=script&lang=js&
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//


/* harmony default export */ var editSeovue_type_script_lang_js_ = ({
  name: 'edit-seo',
  layout: 'edit',
  middleware: 'auth',
  computed: { ...Object(external_vuex_["mapGetters"])(['isAuthenticated', 'loggedInUser'])
  },

  created() {},

  mounted() {
    this.getSeo();
  },

  data() {
    return {
      url_server: this.$store.state.url_server,
      source: this.seo_source,
      id_parent: this.seo_id_parent,
      seo_title: '',
      seo_description: '',
      seo_url: '',
      isShowSeo: false
    };
  },

  props: {
    seo_source: String,
    seo_id_parent: Number
  },
  methods: {
    getSeo: function () {
      external_axios_default.a.get(this.url_server + "/getSeo?source=" + this.source + "&id_parent=" + parseInt(this.id_parent)).then(response => {
        this.seo = response.data.liste;
        this.seo_title = this.seo.titre;
        this.seo_description = this.seo.description;
        this.seo_url = this.seo.url;
      }).catch(error => {
        displayErreur("erreur de chargement SEO");
      });
    },
    saveSeo: function () {
      let data = {
        source: this.source,
        id_parent: this.id_parent,
        seo_title: this.seo_title,
        seo_description: this.seo_description,
        seo_url: this.seo_url
      };
      var elems = document.querySelectorAll(".required_field");
      [].forEach.call(elems, function (el) {
        if (el.value == '') {
          el.classList.add("required");
        }
      });

      if (checkRequired()) {
        displayErreur("Les champs indiquÃ©s sont obligatoires");
      } else {
        disabledActions();
        external_axios_default.a.post(this.url_server + "/addSeo", data).then(response => {
          this.$emit('onChange', 'submit');
        }).catch(error => {
          enabledActions();
          displayErreur("Erreur lors de l'update seo");
        });
      }
    },
    saveSeoConfirm: function () {
      var val = this.saveSeo();
    },
    updateInputSeo: function (titre) {
      this.seo_title = titre;
      this.seo_url = slugify(titre);
    },
    saveSeoInput: function (titre) {
      this.seo_title = titre;
    },
    initForm: function (event) {
      if (event.target.classList.contains("required")) event.target.classList.remove("required");
      enabledActions();
      hideErreur();
    },
    hideErreur: function () {
      hideErreur();
    }
  }
});
// CONCATENATED MODULE: ./components/editSeo.vue?vue&type=script&lang=js&
 /* harmony default export */ var components_editSeovue_type_script_lang_js_ = (editSeovue_type_script_lang_js_); 
// EXTERNAL MODULE: ./node_modules/vue-loader/lib/runtime/componentNormalizer.js
var componentNormalizer = __webpack_require__(2);

// CONCATENATED MODULE: ./components/editSeo.vue





/* normalize component */

var component = Object(componentNormalizer["a" /* default */])(
  components_editSeovue_type_script_lang_js_,
  render,
  staticRenderFns,
  false,
  null,
  null,
  "5b257703"
  
)

/* harmony default export */ var editSeo = __webpack_exports__["default"] = (component.exports);

/***/ })

};;
//# sourceMappingURL=edit-seo.js.map