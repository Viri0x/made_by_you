{"version":3,"file":"components/edit-seo.js","sources":["webpack:///./components/editSeo.vue?a11a","webpack:///./components/editSeo.vue","webpack:///./components/editSeo.vue?087a","webpack:///./components/editSeo.vue?4c81"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-bloc form-bloc-list mt-6 border-b border-mainColor\",class:{'active': _vm.isShowSeo}},[_vm._ssrNode(\"<div class=\\\"col w-full\\\"><div class=\\\"col-content mb-1\\\"><label for=\\\"showSeo\\\" id=\\\"LshowSeo\\\" class=\\\"add\\\"><div>SEO</div><div class=\\\"flex-1 flex justify-end add highlight\\\"><svg xmlns=\\\"http://www.w3.org/2000/svg\\\" fill=\\\"none\\\" viewBox=\\\"0 0 24 24\\\" stroke=\\\"currentColor\\\"\"+(_vm._ssrClass(\"big\",{'rotate-90': _vm.isShowSeo}))+\"><path stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M9 5l7 7-7 7\\\"></path></svg></div></label> <div><div class=\\\"form-bloc-list-content\\\"\"+(_vm._ssrStyle(null,null, { display: (_vm.isShowSeo) ? '' : 'none' }))+\"><div class=\\\"form-bloc\\\"><div class=\\\"col w-full\\\"><div class=\\\"col-content\\\"><label for=\\\"seo_title\\\" id=\\\"Lseo_title\\\">Page title</label> <input type=\\\"text\\\" name=\\\"seo_title\\\" id=\\\"seo_title\\\" value class=\\\"required_field fromSeo\\\"></div></div></div> <div class=\\\"form-bloc\\\"><div class=\\\"col w-full\\\"><div class=\\\"col-content\\\"><label for=\\\"seo_description\\\" id=\\\"Lseo_description\\\">Meta description</label> <textarea name=\\\"seo_description\\\" id=\\\"seo_description\\\" class=\\\"fromSeo\\\">\"+_vm._ssrEscape(_vm._s(_vm.seo_description))+\"</textarea></div></div></div> <div class=\\\"form-bloc\\\"><div class=\\\"col w-full\\\"><div class=\\\"col-content\\\"><label for=\\\"seo_url\\\" id=\\\"Lseo-url\\\">Url</label> <input type=\\\"text\\\" name=\\\"seo_url\\\" id=\\\"seo_url\\\" value class=\\\"required_field fromSeo\\\"></div></div></div></div></div></div></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex';\nimport axios from 'axios';\n\nexport default {\n  name: 'edit-seo',\n  layout: 'edit',\n  middleware: 'auth',\n  computed: {\n    ...mapGetters(['isAuthenticated', 'loggedInUser']),\n  },\n  created() {\n  }\n  ,\n  mounted() {\n\t  \n  \tthis.getSeo();\n  },\n  data() {\n    return {\n\t  url_server:this.$store.state.url_server,\n\t  source:this.seo_source,\n\t  id_parent : this.seo_id_parent,\n\t  seo_title : '',\n\t  seo_description : '',\n\t  seo_url : '',\n\t  isShowSeo:false,\n    }\n  },\n  props: {\n   seo_source: String,\n   seo_id_parent: Number,\n  },\n  methods: {\n\tgetSeo: function()\n\t {\n       axios.get(this.url_server + \"/getSeo?source=\" + this.source + \"&id_parent=\" + parseInt(this.id_parent))\n       .then(response => {\n\t       this.seo = response.data.liste;\n\t       this.seo_title = this.seo.titre;\n\t       this.seo_description = this.seo.description;\n\t       this.seo_url = this.seo.url;\n\t   })\n       .catch(error => {\n\t\t   displayErreur(\"erreur de chargement SEO\")\n      })\n    },\n    saveSeo: function()\n\t {\n\t\t let data = {\n\t\t\tsource: this.source,\n\t\t\tid_parent: this.id_parent,\n\t\t\tseo_title: this.seo_title,\n\t\t\tseo_description: this.seo_description,\n\t\t\tseo_url: this.seo_url,\n\t      };\n\n\t\t var elems = document.querySelectorAll(\".required_field\");\n\t  [].forEach.call(elems, function(el) {\n\t\t    if ((el.value == '')) {\n\t\t\t   el.classList.add(\"required\");\n\t\t\t}\n\t\t});\n\t\t\n\t\tif(checkRequired()) {\n\t\t\tdisplayErreur(\"Les champs indiquÃ©s sont obligatoires\");\n\t\t}\n\t\telse {\n\t\t\tdisabledActions();\n\t\t\t  axios.post(this.url_server + \"/addSeo\", data)\n\t\t\t   .then(response => {\n\t\t\t\t   this.$emit('onChange', 'submit');\n\t\t\t   })\n\t\t\t   .catch(error => {\n\t\t\t\t  enabledActions();\n\t\t\t\t  displayErreur(\"Erreur lors de l'update seo\")\n\t\t\t   })\n\t\t\t\n\t\t}\n    },\n    saveSeoConfirm: function()\n\t {\n       var val = this.saveSeo();\n    }\n    ,\n    updateInputSeo: function(titre)\n\t {\n       this.seo_title = titre;\n       this.seo_url = slugify(titre)\n    }\n    ,\n    saveSeoInput: function(titre)\n\t {\n       this.seo_title = titre;\n    },\n     initForm: function(event)\n    {\n\t   if (event.target.classList.contains(\"required\")) event.target.classList.remove(\"required\");\n\t   enabledActions();\n\t   hideErreur();\n    },\n    hideErreur: function()\n    {\n\t    hideErreur();\n    }\n  }\n}\n","import mod from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./editSeo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js??ref--2-0!../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./editSeo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editSeo.vue?vue&type=template&id=6a842e54&\"\nimport script from \"./editSeo.vue?vue&type=script&lang=js&\"\nexport * from \"./editSeo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  \"3242e6e1\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AAvEA;AA7BA;;AC5CA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}